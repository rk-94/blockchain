(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1:function(e){e.exports={hostIP:"rdctstbc001",port:"4000",channelName:"mychannel",chaincodeName:"mycc",peerName:"peer0.org1.example.com",authToken:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE5NDIyNTYwODAsInVzZXJuYW1lIjoiY2VybmVyIiwib3JnTmFtZSI6Ik9yZzEiLCJpYXQiOjE1NDUyMjAwODB9.uPUhCzBoBpApJgPpgJoNhJ_WXKiXuQ1OkGRlY4NFsDw"}},104:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(40),r=a.n(s);a(50),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(11),h=a(12),o=a(14),c=a(13),d=a(15),u=a(2),m=a(6),p=a.n(m),g=a(9),v=a.n(g),f=a(7),y=a.n(f),E=(a(68),a(32)),x=a.n(E),w=a(33),b=a.n(w),C=a(41),I=a.n(C),S=a(42),N=a.n(S),k=a(16),j=a.n(k),O=a(43),U=a.n(O),P=a(44),H=a.n(P),A=a(10),R=a.n(A),L=a(1),T=(a(101),{"grid-template-columns":"1fr 1fr","grid-template-rows":"auto","grid-gap":"1px"}),B={"grid-column-start":1,"grid-row-start":2},D={"grid-column-start":2,"grid-row-start":2},V={"grid-column-start":1,"grid-column-end":3,"grid-row-start":1},J=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(o.a)(this,Object(c.a)(t).call(this,e))).state={username:"",password:"",isLoggedIn:!1,isUserValid:!1,isAdmin:!1,items:[],hash:"",id:"",hostIP:L.hostIP,port:L.port,channelName:L.channelName,chaincodeName:L.chaincodeName,peerName:L.peerName,auth:L.authToken,toutput:[],foutput:[],view:!1,disableHashInput:!1,fhirUrl:"",Holder:"Enter a valid Hash provided in the claim",fhirResponse:"",totalFhirResponse:"",selectedAnswers:[],isOpen:!1},a.handleChangeUsername=a.handleChangeUsername.bind(Object(u.a)(Object(u.a)(a))),a.handleChangePassword=a.handleChangePassword.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(Object(u.a)(a))),a.handleLogout=a.handleLogout.bind(Object(u.a)(Object(u.a)(a))),a.handleChangeHash=a.handleChangeHash.bind(Object(u.a)(Object(u.a)(a))),a.handleSubmitQuery=a.handleSubmitQuery.bind(Object(u.a)(Object(u.a)(a))),a.reset=a.reset.bind(Object(u.a)(Object(u.a)(a))),a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidUpdate",value:function(){var e=this.state,t=e.hash,a=e.Holder;t.length>33&&this.fetchHashValid();var n=this.state,i=n.selectedAnswers,s=n.view;0===i.length&&s&&this.setState({view:!1}),34===a.length&&0!==t.length&&this.setState({hash:""})}},{key:"handleChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"handleChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleSubmit",value:function(){var e=this.state,t=e.password;"administrator"===e.username&&"creator"===t?this.setState({isAdmin:!0}):"blockchain"===t?this.fetchUser():(this.setState({isLoggedIn:!1}),alert("Invalid Pasword"))}},{key:"handleLogout",value:function(){this.setState({isLoggedIn:!1,isUserValid:!1,fhirUrl:"",username:"",password:"",items:[],hash:"",fetchURL:"",fhirResponse:"",selectedAnswers:[],Holder:"Enter a valid Hash provided in the claim",view:!1})}},{key:"handleChangeHash",value:function(e){this.setState({hash:e.target.value})}},{key:"handleSubmitQuery",value:function(){this.fetchURL()}},{key:"reset",value:function(){this.setState({fhirUrl:"",disableHashInput:!1,items:[],hash:"",fhirResponse:"",selectedAnswers:[],Holder:"Enter a valid Hash provided in the claim",view:!1})}},{key:"fetchData",value:function(){var e=this,t={method:"GET",headers:{authorization:"Bearer "+this.state.auth,"content-Type":"application/json"}};fetch("http://"+this.state.hostIP+":"+this.state.port+"/channels/"+this.state.channelName+"/chaincodes/"+this.state.chaincodeName+"?peer="+this.state.peerName+"&fcn=queryCustom&args=%5B%22%7B%5C%22selector%5C%22:%7B%5C%22_rev%5C%22:%5C%22"+this.state.hash+"%5C%22,%5C%22payerId%5C%22:%5C%22"+this.state.username+"%5C%22%7D%7D%22%5D",t).then(function(e){return e.json()}).then(function(t){"[]"===JSON.stringify(t)?e.setState({items:[]}):e.setState({items:t,fhirUrl:t.Record.fhirUrl,hash:"",Holder:e.state.hash,disableHashInput:!0})})}},{key:"fetchHashValid",value:function(){var e=this,t={method:"GET",headers:{authorization:"Bearer "+this.state.auth,"content-Type":"application/json"}};fetch("http://"+this.state.hostIP+":"+this.state.port+"/channels/"+this.state.channelName+"/chaincodes/"+this.state.chaincodeName+"?peer="+this.state.peerName+"&fcn=isValid&args=%5B%22hash%22,%22"+this.state.hash+"%22%5D",t).then(function(e){return e.text()}).then(function(t){0===t.length&&"E"!==t[0]&&e.fetchData()}).catch(function(e){return console.log(e)})}},{key:"fetchUser",value:function(){var e=this,t={method:"GET",headers:{authorization:"Bearer "+this.state.auth,"content-Type":"application/json"}};fetch("http://"+this.state.hostIP+":"+this.state.port+"/channels/"+this.state.channelName+"/chaincodes/"+this.state.chaincodeName+"?peer="+this.state.peerName+"&fcn=isValid&args=%5B%22payer%22,%22"+this.state.username+"%22%5D",t).then(function(e){return e.text()}).then(function(t){0===t.length&&"E"!==t[0]?e.setState({isUserValid:!0,isLoggedIn:!0}):(e.setState({isUserValid:!1}),alert("User did not registerd for Blockchain Service"))}).catch(function(e){return console.log(e)})}},{key:"fetchURL",value:function(){var e=this,t=this.state.fhirUrl;fetch(t,{method:"GET",headers:{Accept:"application/json+fhir"}}).then(function(e){return e.json()}).then(function(t){return e.setState({fhirResponse:t.entry,totalFhirResponse:t})})}},{key:"render",value:function(){var e,t,a=this,n={margin:"5px"},s=this.state.fhirResponse,r=this.state,l=r.view,h=r.selectedAnswers,o=i.a.createElement("div",{style:{border:"1px solid lightGray",backgroundColor:"#2481ca",width:"100%",height:"50px",position:"relative"}},i.a.createElement(b.a,{src:x.a,height:"100px",width:"100px",isFluid:!0,style:{margin:"12px",float:"left"}}),i.a.createElement("h3",{style:{float:"left",color:"white",margin:"15px",position:"relative"}}," Payer Chart Review")),c=i.a.createElement("div",{style:{border:"1px solid lightGray",backgroundColor:"#2481ca",width:"100%",height:"50px",position:"relative"}},i.a.createElement(b.a,{src:x.a,height:"100px",width:"100px",isFluid:!0,style:{margin:"12px",float:"left"}}),i.a.createElement("h3",{style:{float:"left",color:"white",margin:"15px"}}," Payer Chart Review"),i.a.createElement(p.a,{onClick:this.handleLogout,text:"Log Out",variant:"emphasis",style:{float:"right",height:"45px",position:"relative"}})),d=Object.entries(s).map(function(e){return i.a.createElement("div",{style:{margin:"auto",position:"relative",paddingLeft:"20px"}},i.a.createElement(i.a.Fragment,{key:e},i.a.createElement("div",{style:{width:"500px",margin:"auto",fontSize:"20px",float:"right"}},i.a.createElement(U.a,{id:"Data",name:"filter",disabled:a.state.view,labelText:e[1].resource.code.text,onChange:function(t){var n=new Object;n.name=e[1].resource.resourceType+e[1].resource.id,n.value=e[1].resource.text.div,n.info=e[1].resource.meta.lastUpdated,n.patientInfo=e[1].resource.subject;var i=a.state.selectedAnswers;t.currentTarget.checked?i.push(n):t.currentTarget.checked||i.splice(i.values(n),1),a.setState({selectedAnswers:i})}}))))});e=l&&h.length>0?i.a.createElement("div",{style:{margin:"5px"}},i.a.createElement(v.a,null,i.a.createElement(v.a.Body,null,i.a.createElement("p",null,i.a.createElement("b",null,"Additional Clinical Info:")," "),this.state.selectedAnswers.map(function(e){return i.a.createElement(i.a.Fragment,{key:e.name},i.a.createElement("ul",null,i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.value}}),i.a.createElement("p",null,i.a.createElement("b",null,"Last Updated:")," ",e.info),i.a.createElement(H.a,null)))})))):i.a.createElement("div",null);var u,m=this.state,g=m.fhirUrl,f=m.hash;g.length>10?t=i.a.createElement(p.a,{color:"success",size:"lg",onClick:this.handleSubmitQuery,text:"Search",variant:"action",style:{margin:"5px"}}):g.length<10&&f.length>33&&(t=i.a.createElement("div",null,i.a.createElement(N.a,null,i.a.createElement(j.a,{text:"Invalid or UnAuthorised Hash",textStyle:"attention",icon:i.a.createElement(I.a,null)})))),s.length>2&&(t=i.a.createElement(p.a,{color:"success",size:"lg",onClick:this.reset,text:"Reset",variant:"action",style:{margin:"5px"}})),u=h.length>0?i.a.createElement("div",{style:{position:"relative"}},i.a.createElement(p.a,{color:"success",size:"lg",onClick:function(){var e=a.state.view;a.setState({view:!e})},text:"View",variant:"action",style:n})):i.a.createElement("div",null);var E,w=i.a.createElement("div",null,o,i.a.createElement("div",{style:{margin:"auto",height:"500px",width:"500px",textAlign:"center",position:"relative"}},i.a.createElement(v.a,{style:{margin:"50px"}},i.a.createElement(v.a.Body,null,i.a.createElement("h1",null,"LOGIN"),i.a.createElement(y.a,{type:"text",placeholder:"PayerID",value:this.state.username,onChange:this.handleChangeUsername,required:!0,style:{height:"35px",margin:"5px",width:"350px"}}),i.a.createElement(y.a,{type:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChangePassword,required:!0,style:{height:"35px",margin:"5px",width:"350px"}}),i.a.createElement("div",{style:{margin:"auto",textAlign:"center"}},i.a.createElement(p.a,{onClick:this.handleSubmit,text:"Submit",variant:"action",style:n})))))),C=i.a.createElement(R.a,{defaultTemplate:T},i.a.createElement(R.a.Region,{defaultPosition:V},c),i.a.createElement(R.a.Region,{defaultPosition:B},i.a.createElement("div",{style:{height:"200px",position:"absolute",paddingInlineStart:"50px"}},i.a.createElement("div",{style:{margin:"auto",height:"200px",width:"500px"}},i.a.createElement("p",null,i.a.createElement("b",null,"Query the Additional Clinical Information")),"Hash : ",i.a.createElement(y.a,{required:!0,type:"text",placeholder:this.state.Holder,value:this.state.hash,onChange:this.handleChangeHash,style:{margin:"auto",width:"320px",height:"35px"}}),t),d,i.a.createElement("div",{style:{float:"right"}},u))),i.a.createElement(R.a.Region,{defaultPosition:D},e)),S=i.a.createElement("div",null,i.a.createElement("ul",null,"HostIP : ",i.a.createElement(y.a,{required:!0,type:"text",placeholder:this.state.hostIP,value:this.state.hostIP,onChange:function(e){a.setState({hostIP:e.target.value}),a.forceUpdate()},style:{margin:"auto",width:"320px",height:"35px"}})),i.a.createElement("ul",null,"port : ",i.a.createElement(y.a,{required:!0,type:"text",placeholder:this.state.port,value:this.state.port,onChange:function(e){a.setState({port:e.target.value})},style:{margin:"auto",width:"320px",height:"35px"}})),i.a.createElement("ul",null,"channelName : ",i.a.createElement(y.a,{required:!0,type:"text",placeholder:this.state.channelName,value:this.state.channelName,onChange:function(e){a.setState({channelName:e.target.value})},style:{margin:"auto",width:"320px",height:"35px"}})),i.a.createElement("ul",null,"chaincodeName : ",i.a.createElement(y.a,{required:!0,type:"text",placeholder:this.state.chaincodeName,value:this.state.chaincodeName,onChange:function(e){a.setState({chaincodeName:e.target.value})},style:{margin:"auto",width:"320px",height:"35px"}})),i.a.createElement("ul",null,"peerName : ",i.a.createElement(y.a,{required:!0,type:"text",placeholder:this.state.peerName,value:this.state.peerName,onChange:function(e){a.setState({peerName:e.target.value})},style:{margin:"auto",width:"320px",height:"35px"}})),i.a.createElement("ul",null,i.a.createElement(p.a,{color:"success",size:"lg",onClick:function(){a.setState({isAdmin:!1,username:"",password:""})},text:"Logout",variant:"action",style:{margin:"5px"}}))),k=this.state,O=k.isUserValid,P=k.isAdmin;return E=O?C:P?S:w,i.a.createElement("div",null,E)}}]),t}(n.Component);n.Component;r.a.render(i.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},32:function(e,t,a){e.exports=a.p+"static/media/cerner.1af909dc.png"},45:function(e,t,a){e.exports=a(104)},50:function(e,t,a){}},[[45,2,1]]]);
//# sourceMappingURL=main.a3bdbac6.chunk.js.map